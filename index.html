<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Bizim Küçük Evrenimiz — İlker ❤ Bahargül</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --ink:#1f2328;
    --muted:#6b7280;
    --accent:#d63384;
    --rose:#ff6ea8;
    --card: rgba(255,255,255,.92);
    --glass: rgba(255,255,255,.75);
    --shadow: 0 14px 44px rgba(0,0,0,.14);
    --radius: 18px;
    --maxw: 1180px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--ink); background:#fff;
    font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }

  /* HERO: arka planda kumsaldaki “İ + B” görseli */
  .hero{
    position:relative; min-height:64vh; display:grid; place-items:center; overflow:hidden;
    background: url("https://i.ibb.co/JwzhgHwZ/b.jpg") center/cover fixed no-repeat;
  }
  .hero::before{
    content:""; position:absolute; inset:0;
    background: radial-gradient(120% 120% at 50% 70%, rgba(0,0,0,.15) 0%, rgba(0,0,0,.36) 90%);
  }
  .hero-card{
    position:relative; z-index:1; text-align:center; color:#fff;
    width:min(980px,94%); padding:clamp(16px,4vw,34px);
    text-shadow:0 2px 12px rgba(0,0,0,.6);
  }
  .hero-title{
    font-family:'Playfair Display',serif; font-weight:800; letter-spacing:.3px;
    font-size:clamp(28px,6.6vw,56px); line-height:1.08; margin:0 0 .5rem;
  }
  .hero-sub{opacity:.95; font-size:clamp(14px,3.6vw,18px)}
  .wrap{max-width:var(--maxw); margin:0 auto; padding: clamp(16px,3vw,26px)}

  /* SECTION HEAD */
  .section{margin-top: clamp(20px, 4vw, 34px)}
  .section-title{
    font-family:'Playfair Display',serif; font-weight:800; color:#8b1a52;
    margin:0 0 12px; font-size:clamp(22px,4.8vw,32px)
  }
  .muted{color:var(--muted)}

  /* ZAMAN ÇİZELGESİ — yatay kaydırmalı, kartlar */
  .timeline-wrap{
    background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
    padding:16px;
  }
  .timeline{
    display:grid; grid-auto-flow:column; grid-auto-columns:minmax(300px, 1fr);
    gap:16px; overflow-x:auto; scroll-snap-type:x mandatory; padding:8px;
  }
  .tcard{
    scroll-snap-align:center; background:linear-gradient(180deg, #fff, #fff7fb);
    border-radius:16px; padding:16px; min-height:220px; position:relative;
    box-shadow:0 10px 26px rgba(0,0,0,.06); display:flex; flex-direction:column; gap:8px;
  }
  .tdate{font-weight:700; color:var(--accent); font-size:13px}
  .tcard h3{margin:0; font-size:18px; color:#222}
  .tcard p{margin:0; color:var(--muted)}
  .tmeta{margin-top:auto; display:flex; gap:10px; align-items:center}
  .thumb{width:72px; height:72px; border-radius:12px; overflow:hidden; background:#eee; flex:0 0 72px; box-shadow:0 6px 16px rgba(0,0,0,.06)}
  .thumb img{width:100%; height:100%; object-fit:cover; display:block}

  /* Sondaki büyük görsel kartı */
  .tcard.image-only{padding:6px}
  .tcard.image-only img{width:100%; height:100%; display:block; border-radius:12px; object-fit:cover}

  /* ANILARDAN KARELER (Slider) */
  .slider-wrap{
    background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
    padding:14px; position:relative;
  }
  .slider{
    display:grid; grid-auto-flow:column; grid-auto-columns: minmax(240px, 68vw);
    gap:12px; overflow-x:auto; scroll-snap-type:x mandatory; padding-bottom:6px;
  }
  .slide{scroll-snap-align:center; border-radius:14px; overflow:hidden; background:#000; position:relative}
  .slide img{width:100%; height:100%; object-fit:cover; display:block}
  .slide video{width:100%; height:100%; display:block; background:#000}
  .slide .cap{
    position:absolute; left:10px; bottom:10px; background:rgba(0,0,0,.5);
    color:#fff; padding:6px 10px; border-radius:999px; font-size:12px
  }
  .slider-ctrl{
    display:flex; gap:10px; justify-content:flex-end; margin-top:8px
  }
  .btn{
    background:var(--accent); color:#fff; border:0; padding:10px 14px; border-radius:12px;
    font-weight:700; cursor:pointer; box-shadow:0 10px 26px rgba(214,51,132,.18)
  }
  .btn.ghost{background:transparent; color:var(--accent); border:1px solid rgba(214,51,132,.22)}
  .small{font-size:13px; color:var(--muted)}

  /* BULUŞMA TARİHİ */
  .date-card{
    background:var(--card); border-radius:16px; box-shadow:var(--shadow); padding:14px
  }
  .date-box{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
  .counter{font-size:clamp(18px,5vw,26px); font-weight:700}

  /* BAHARGÜL’ÜN DÜŞÜNCELERİ */
  .memo-card{
    background:var(--card); border-radius:16px; box-shadow:var(--shadow); padding:14px
  }
  textarea{
    width:100%; min-height:120px; border-radius:12px; border:1px solid #e8e8ee;
    padding:12px; resize:vertical; font-family:inherit; font-size:14px
  }
  .ok{color:#16803c; font-weight:600}

  footer{padding:22px; text-align:center; color:var(--muted); font-size:13px}

  /* mobil iyileştirmeler */
  @media (max-width:560px){
    .thumb{display:none}
  }
</style>
</head>
<body>

<!-- HERO -->
<header class="hero" role="img" aria-label="Kumsalda İ + B yazısı">
  <div class="hero-card">
    <h1 class="hero-title">Bizim Küçük Evrenimiz 🌌</h1>
    <div class="hero-sub">Merhaba, ben İlker. Bu sayfa bizim anılarımızı, küçük mutluluklarımızı ve geleceğe notlarımızı saklıyor. Kaydır — keşfet — gülümse. 💖</div>
  </div>
</header>

<main class="wrap">
  <!-- ZAMAN ÇİZELGESİ (puzzle YOK) -->
  <section class="section" aria-label="Zaman Çizelgesi">
    <h2 class="section-title">Zaman Çizelgesi</h2>
    <p class="muted" style="margin-top:-4px">Kartları sağa-sola kaydır. En sonda özel görselimiz var 📸</p>

    <div class="timeline-wrap">
      <div class="timeline" id="timeline"></div>
    </div>
  </section>

  <!-- ANILARDAN KARELER (Foto + Video kaydırılabilir galeri) -->
  <section class="section" aria-label="Anılardan Kareler">
    <h2 class="section-title">Anılardan Kareler</h2>
    <div class="slider-wrap">
      <div class="slider" id="slider">
        <!-- Aşağıdaki iki foto doğrudan yüklü -->
        <figure class="slide">
          <img src="https://i.ibb.co/JwzhgHwZ/b.jpg" alt="Kumsalda İ + B" />
          <figcaption class="cap">Kumsalda “İ + B” 💞</figcaption>
        </figure>
        <figure class="slide">
          <img src="https://r.resimlink.com/RboDvu2.png" alt="Bizim anımız" />
          <figcaption class="cap">Birlikte bir an 📷</figcaption>
        </figure>

        <!-- Videolarını kolay eklemek için: Aşağıdaki butonla cihazından seçtiğinde otomatik eklenecek -->
      </div>
      <div class="slider-ctrl">
        <input id="mediaInput" type="file" accept="image/*,video/mp4,video/webm" multiple style="display:none" />
        <button class="btn" id="addMedia">Foto/Video Ekle</button>
        <button class="btn ghost" id="clearMedia">Temizle</button>
      </div>
      <div class="small">➕ Telefonundan videoları/fotoğrafları ekle. Yükleme yapılmaz; sadece bu cihazda görünür.</div>
    </div>
  </section>

  <!-- BULUŞMA TARİHİ -->
  <section class="section" aria-label="Buluşma Tarihi">
    <h2 class="section-title">Bir Sonraki Buluşma ⏳</h2>
    <div class="date-card">
      <div class="date-box">
        <input id="datePick" type="datetime-local" />
        <button class="btn" id="saveDate">Kaydet</button>
        <button class="btn ghost" id="clearDate">Sıfırla</button>
        <div class="counter" id="counter" style="margin-left:auto">Tarih seçilmedi</div>
      </div>
      <p class="small" style="margin-top:6px">Seçim sadece bu cihazda saklanır (localStorage).</p>
    </div>
  </section>

  <!-- BAHARGÜL’ÜN DÜŞÜNCELERİ -->
  <section class="section" aria-label="Bahargül’ün Düşünceleri">
    <h2 class="section-title">Bahargül’ün Düşünceleri 💭</h2>
    <div class="memo-card">
      <p class="muted" style="margin-top:0">Buraya istediğin zaman düşüncelerini bırakabilirsin. Bu notlar sadece bu cihazda saklanır.</p>
      <textarea id="memo" placeholder="Bugün nasılsın? İçinden geçenleri yaz..."></textarea>
      <div style="display:flex; gap:10px; margin-top:10px; align-items:center;">
        <button class="btn" id="saveMemo">Kaydet</button>
        <button class="btn ghost" id="clearMemo">Sil</button>
        <span id="memoStatus" class="ok" style="display:none; margin-left:auto">Kaydedildi ✓</span>
      </div>
    </div>
  </section>
</main>

<footer>© İlker & Bahargül — “Küçük şeylerin toplamı büyük bir aşk yapar.”</footer>

<script>
/* ---------------- ZAMAN ÇİZELGESİ ---------------- */
const timelineData = [
  { date: '2024 • Kış', title: 'Tanıştık', text: 'Belki biraz gergindik; ama o an her şeyin başlangıcıydı. Göz göze geldiğimiz anı unutmuyorum.', thumb: 'https://i.ibb.co/JwzhgHwZ/b.jpg' },
  { date: 'İlk Sürpriz', title: 'Beyaz Gül', text: 'Küçük bir beyaz gül ve kocaman bir gülümseyiş. İçten gelen her şey en güzelidir.', thumb: 'https://r.resimlink.com/RboDvu2.png' },
  { date: 'İlk Buluşmalar', title: 'Uzun Sohbetler', text: 'Merdivenlerde saatlerce sohbet... Zaman o an yavaşlıyordu sanki.', thumb: 'https://i.ibb.co/JwzhgHwZ/b.jpg' },
  { date: 'İlk Kavgamız', title: 'Sarılınca Geçen', text: 'Kırgınlıklar olur, ama sarılınca hepsi hafifler. Birbirimizi daha iyi anlarız.', thumb: 'https://r.resimlink.com/RboDvu2.png' },
  { date: 'Bugün', title: 'Şu An', text: 'Hâlâ buradayız. Daha güçlü, daha olgun ve daha sevgi dolu.', thumb: 'https://i.ibb.co/JwzhgHwZ/b.jpg' },
  // Sondaki büyük görsel kartı — senin gönderdiğin görsel en sonda
  { imageOnly: true, image: 'https://r.resimlink.com/RboDvu2.png' }
];

function renderTimeline(){
  const tl = document.getElementById('timeline');
  tl.innerHTML = '';
  timelineData.forEach(item=>{
    if(item.imageOnly){
      const d = document.createElement('article');
      d.className = 'tcard image-only';
      d.innerHTML = `<img src="${item.image}" alt="Bizim Anımız">`;
      tl.appendChild(d);
      return;
    }
    const el = document.createElement('article');
    el.className = 'tcard';
    el.innerHTML = `
      <div class="tdate">${item.date}</div>
      <h3>${item.title}</h3>
      <p>${item.text}</p>
      <div class="tmeta">
        <div class="thumb">
          <img src="${item.thumb}" alt="">
        </div>
        <div class="muted" style="font-size:13px">${item.date}</div>
      </div>
    `;
    tl.appendChild(el);
  });
}
renderTimeline();

/* ---------------- ANILARDAN KARELER (Foto/Video ekleme) ---------------- */
const slider = document.getElementById('slider');
const mediaInput = document.getElementById('mediaInput');
const addMedia = document.getElementById('addMedia');
const clearMedia = document.getElementById('clearMedia');
const MEDIA_KEY = 'bahar_media_v1';

addMedia.addEventListener('click', ()=> mediaInput.click());
clearMedia.addEventListener('click', ()=>{
  // ön tanımlı iki slayt hariç hepsini temizle
  [...slider.querySelectorAll('.slide')].slice(2).forEach(n=> n.remove());
  localStorage.removeItem(MEDIA_KEY);
});

mediaInput.addEventListener('change', handleFiles);

function handleFiles(){
  const files = [...mediaInput.files];
  files.forEach(f=>{
    const reader = new FileReader();
    if(f.type.startsWith('image/')){
      reader.onload = e=>{
        appendImageSlide(e.target.result, f.name);
        saveSlides();
      };
      reader.readAsDataURL(f);
    } else if(f.type.startsWith('video/')){
      reader.onload = e=>{
        appendVideoSlide(e.target.result, f.name);
        saveSlides();
      };
      reader.readAsDataURL(f); // data URL; localStorage’a da yazacağız
    }
  });
  mediaInput.value = '';
}
function appendImageSlide(src, name='Fotoğraf'){
  const fig = document.createElement('figure');
  fig.className = 'slide';
  fig.innerHTML = `<img src="${src}" alt="${name}"><figcaption class="cap">${name}</figcaption>`;
  slider.appendChild(fig);
}
function appendVideoSlide(src, name='Video'){
  const fig = document.createElement('figure');
  fig.className = 'slide';
  fig.innerHTML = `
    <video controls playsinline preload="metadata">
      <source src="${src}">
      Tarayıcınız bu videoyu oynatamıyor.
    </video>
    <figcaption class="cap">${name}</figcaption>`;
  slider.appendChild(fig);
}
function saveSlides(){
  // Ön tanımlı iki slaytı saklamıyoruz; sadece eklenenleri sakla
  const custom = [...slider.querySelectorAll('.slide')].slice(2).map(s=>{
    const img = s.querySelector('img');
    const vid = s.querySelector('video');
    const cap = s.querySelector('.cap')?.textContent || '';
    if(img) return {type:'img', src: img.src, cap};
    if(vid) return {type:'vid', src: vid.querySelector('source').src, cap};
    return null;
  }).filter(Boolean);
  localStorage.setItem(MEDIA_KEY, JSON.stringify(custom));
}
function loadSlides(){
  try{
    const raw = localStorage.getItem(MEDIA_KEY);
    if(!raw) return;
    const items = JSON.parse(raw);
    items.forEach(it=>{
      if(it.type==='img') appendImageSlide(it.src, it.cap);
      if(it.type==='vid') appendVideoSlide(it.src, it.cap);
    });
  }catch(e){}
}
loadSlides();

/* ---------------- BULUŞMA TARİHİ ---------------- */
const datePick = document.getElementById('datePick');
const saveDate = document.getElementById('saveDate');
const clearDate = document.getElementById('clearDate');
const counter = document.getElementById('counter');
const DATE_KEY = 'bahar_date';

if(localStorage.getItem(DATE_KEY)) datePick.value = localStorage.getItem(DATE_KEY);

function tick(){
  const v = datePick.value;
  if(!v){ counter.textContent = 'Tarih seçilmedi'; return; }
  const t = new Date(v).getTime() - Date.now();
  if(isNaN(t)){ counter.textContent = 'Geçersiz tarih'; return; }
  if(t<=0){ counter.textContent = 'Bugün! 🎉'; return; }
  const d = Math.floor(t/86400000);
  const h = Math.floor((t%86400000)/3600000);
  const m = Math.floor((t%3600000)/60000);
  const s = Math.floor((t%60000)/1000);
  counter.textContent = `${d}g ${h}s ${m}d ${s}sn`;
}
setInterval(tick, 1000); tick();

saveDate.addEventListener('click', ()=>{
  if(datePick.value){
    localStorage.setItem(DATE_KEY, datePick.value);
    tick();
  }
});
clearDate.addEventListener('click', ()=>{
  localStorage.removeItem(DATE_KEY);
  datePick.value = '';
  tick();
});

/* ---------------- BAHARGÜL’ÜN DÜŞÜNCELERİ ---------------- */
const memo = document.getElementById('memo');
const saveMemo = document.getElementById('saveMemo');
const clearMemo = document.getElementById('clearMemo');
const memoStatus = document.getElementById('memoStatus');
const MEMO_KEY = 'bahar_memo';

memo.value = localStorage.getItem(MEMO_KEY) || '';
saveMemo.addEventListener('click', ()=>{
  localStorage.setItem(MEMO_KEY, memo.value || '');
  memoStatus.style.display = 'inline';
  setTimeout(()=> memoStatus.style.display='none', 1600);
});
clearMemo.addEventListener('click', ()=>{
  memo.value = '';
  localStorage.removeItem(MEMO_KEY);
});
</script>
</body>
</html>

<!doctype html>
<html lang="tr">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Şarkılar — İlker & Bahargül</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{--accent:#1db954;--muted:#6b6b72;--panel:rgba(255,255,255,0.95)}
*{box-sizing:border-box}
body{font-family:'Poppins',sans-serif;margin:0;background:#fff}
body::before{content:"";position:fixed;inset:0;background:url('Bahoş.jpg') center/cover fixed;filter:brightness(.95);z-index:-2}
.container{max-width:980px;margin:28px auto;padding:18px}
.hamb{position:fixed;left:14px;top:14px;background:rgba(255,255,255,0.9);padding:10px;border-radius:12px;z-index:1200}
.sidebar{position:fixed;left:0;top:0;bottom:0;width:0;overflow:hidden;background:rgba(255,255,255,0.98);transition:width .32s;z-index:1190}
.sidebar.open{width:240px}
.sidebar nav{padding:70px 14px;display:flex;flex-direction:column;gap:8px}
.player{display:grid;grid-template-columns:220px 1fr;gap:18px;align-items:center;background:var(--panel);padding:18px;border-radius:12px;box-shadow:0 12px 36px rgba(0,0,0,0.06)}
.cover img{width:100%;height:220px;object-fit:cover;border-radius:8px}
.track-title{font-weight:800;font-size:18px}
.controls{display:flex;gap:10px;align-items:center;margin-top:12px}
.button{background:#fff;border:0;padding:10px;border-radius:10px;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,0.06)}
.play-big{background:linear-gradient(90deg,var(--accent),#0fa64a);color:#fff;padding:12px 16px;border-radius:999px;font-weight:800}
.progress{margin-top:12px;height:8px;background:#eee;border-radius:999px;overflow:hidden;cursor:pointer}
.bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent),#0fa64a)}
.playlist{margin-top:16px;display:flex;flex-direction:column;gap:8px}
.pl-item{display:flex;gap:12px;align-items:center;padding:10px;border-radius:10px;background:#fff;box-shadow:0 8px 26px rgba(0,0,0,0.04);cursor:pointer}
.karaoke{margin-top:16px;padding:12px;background:#fff;border-radius:10px;box-shadow:0 12px 36px rgba(0,0,0,0.06);text-align:center;font-weight:700}
.footer{margin-top:24px;text-align:center;color:var(--muted)}
@media(max-width:860px){ .player{grid-template-columns:1fr; } .cover img{height:220px} }
</style>
</head>
<body>
<button class="hamb" id="menuBtn">☰</button>
<aside id="sidebar" class="sidebar" aria-hidden="true">
  <nav>
    <a href="index.html">🏠 Ana Sayfa</a>
    <a href="anilar.html">📸 Anılar</a>
    <a href="zaman.html">⏳ Zaman</a>
    <a href="sarkilar.html" style="background:linear-gradient(90deg,#1db954,#0fa64a);color:#fff;padding:12px;border-radius:10px">🎶 Şarkılar</a>
  </nav>
</aside>

<div class="container">
  <h2>🎧 Şarkılar</h2>
  <p style="color:var(--muted)">Çalmak için oynat tuşuna bas — ileri/geri ve sonraki parça fonksiyonları hazır.</p>

  <section class="player">
    <div class="cover"><img id="cover" src="Bahar.jpg" alt="kapak"></div>
    <div>
      <div class="meta">
        <div class="track-title" id="title">Dilerim Ki</div>
        <div style="color:var(--muted)" id="artist">Dolu Kadehi Ters Tut</div>
      </div>

      <div class="controls">
        <button class="button" id="prev">⟨</button>
        <button class="button" id="back10">-10s</button>
        <button class="play-big" id="play">▶</button>
        <button class="button" id="forward10">+10s</button>
        <button class="button" id="next">⟩</button>
      </div>

      <div class="progress" id="prog"><div class="bar" id="bar"></div></div>
      <div style="display:flex;justify-content:space-between;margin-top:6px;color:var(--muted)"><span id="cur">0:00</span><span id="dur">0:00</span></div>

      <div class="playlist" id="playlist"></div>
      <div class="karaoke" id="lyrics">🎤 Sözler burada akacak...</div>
    </div>
  </section>

  <div class="footer">Bu sayfa İlker tarafından bir hatıra olarak hazırlandı.</div>
</div>

<audio id="audio" preload="metadata">
  <source src="dolu-kadehi-ters-tut-dilerim-ki.mp3" type="audio/mpeg">
  Tarayıcınız bu ses formatını desteklemiyor.
</audio>

<script>
/* sidebar */
const menuBtn=document.getElementById('menuBtn'), sidebar=document.getElementById('sidebar');
menuBtn.addEventListener('click', ()=> { const open = sidebar.classList.toggle('open'); sidebar.setAttribute('aria-hidden', !open); });

/* player */
const audio=document.getElementById('audio');
const playBtn=document.getElementById('play'), prevBtn=document.getElementById('prev'), nextBtn=document.getElementById('next');
const back10=document.getElementById('back10'), forward10=document.getElementById('forward10');
const bar=document.getElementById('bar'), prog=document.getElementById('prog');
const cur=document.getElementById('cur'), dur=document.getElementById('dur');
const cover=document.getElementById('cover'), titleEl=document.getElementById('title'), artistEl=document.getElementById('artist');
const playlistEl=document.getElementById('playlist'), lyricsDiv=document.getElementById('lyrics');

const playlist = [
  {src:'dolu-kadehi-ters-tut-dilerim-ki.mp3', title:'Dilerim Ki', artist:'Dolu Kadehi Ters Tut', cover:'Bahar.jpg'}
  // İleride buraya yeni şarkı objeleri ekleyebilirsin
];

let idx = 0, playing = false;
function render(){
  playlistEl.innerHTML='';
  playlist.forEach((p,i)=>{
    const it=document.createElement('div'); it.className='pl-item'+(i===idx?' active':'');
    it.innerHTML=`<div style="width:52px;height:52px;overflow:hidden;border-radius:8px"><img src="${p.cover}" style="width:100%;height:100%;object-fit:cover"></div>
    <div style="flex:1"><strong>${p.title}</strong><div style="color:var(--muted);font-size:13px">${p.artist}</div></div>`;
    it.addEventListener('click', ()=> { load(i); play(); });
    playlistEl.appendChild(it);
  });
}
function load(i){
  idx = i; audio.src = playlist[idx].src; cover.src = playlist[idx].cover || 'Bahar.jpg';
  titleEl.textContent = playlist[idx].title; artistEl.textContent = playlist[idx].artist;
  document.querySelectorAll('.pl-item').forEach((el,ii)=> el.classList.toggle('active', ii===idx));
  bar.style.width='0%'; cur.textContent='0:00'; dur.textContent='0:00';
}
function play(){
  audio.play().then(()=>{ playing=true; playBtn.textContent='❚❚'; }).catch(()=>{ playing=false; playBtn.textContent='▶'; });
}
function pause(){ audio.pause(); playing=false; playBtn.textContent='▶'; }

playBtn.addEventListener('click', ()=> { if(playing) pause(); else { if(!audio.src) load(idx); play(); }});
prevBtn.addEventListener('click', ()=>{ idx=(idx-1+playlist.length)%playlist.length; load(idx); play(); });
nextBtn.addEventListener('click', ()=>{ idx=(idx+1)%playlist.length; load(idx); play(); });
back10.addEventListener('click', ()=> audio.currentTime = Math.max(0, (audio.currentTime||0)-10));
forward10.addEventListener('click', ()=> audio.currentTime = Math.min((audio.duration||0), (audio.currentTime||0)+10));

audio.addEventListener('timeupdate', ()=>{
  if(!audio.duration) return;
  const pct = (audio.currentTime/audio.duration)*100;
  bar.style.width = pct + '%';
  cur.textContent = formatTime(Math.floor(audio.currentTime));
  dur.textContent = formatTime(Math.floor(audio.duration));
  updateLyrics();
});
prog.addEventListener('click',(e)=>{ const r=prog.getBoundingClientRect(); const p=(e.clientX-r.left)/r.width; if(audio.duration) audio.currentTime = p*audio.duration; });
audio.addEventListener('ended', ()=> nextBtn.click());

function formatTime(s){ const m=Math.floor(s/60); const sec=Math.floor(s%60); return ${m}:${sec<10?'0'+sec:sec}; }

/* lyrics timing */
const lyrics = [
  {time:15,text:"Umudumsun"},
  {time:19,text:"Simsiyahken her yanım"},
  {time:21,text:"Huzurumsun"},
  {time:26,text:"Uçurumsun"},
  {time:29,text:"Atlasam karanlığına"},
  {time:31,text:"Adım unutulsun"},
  {time:36,text:"Evim ol"},
  {time:38,text:"Kurtar beni"},
  {time:41,text:"Sonum ol"},
  {time:46,text:"Dilerim ki"},
  {time:49,text:"Dilerim ki asla caymazsın benim olmaktan"},
  {time:56,text:"Dursun zaman"},
  {time:59,text:"Kalsın yerim derinlerinde saklanan"},
  {time:81,text:"Sönemezsin"},
  {time:85,text:"İçimi yakan, delip geçen ateş sensin"},
  {time:91,text:"Onlar ne bilsin"},
  {time:95,text:"Sana çıksa keşke, her yolum hayalimsin"}
  // İstersen buraya devam eden zamanlı satırları da ekleyebiliriz
];
function updateLyrics(){
  const t = Math.floor(audio.currentTime||0);
  let cur = null;
  for(let i=0;i<lyrics.length;i++){
    if(t >= lyrics[i].time) cur = lyrics[i];
    else break;
  }
  lyricsDiv.textContent = cur ? cur.text : '🎤 Sözler burada akacak...';
}

/* init */
render();
load(0);

/* keyboard shortcuts (space/left/right) */
document.addEventListener('keydown',(e)=>{
  if(e.key === ' ' && document.activeElement.tagName !== 'INPUT' && document.activeElement.tagName !== 'TEXTAREA'){ e.preventDefault(); if(playing) pause(); else play(); }
  if(e.key === 'ArrowRight') audio.currentTime = Math.min((audio.currentTime||0)+5, audio.duration||0);
  if(e.key === 'ArrowLeft') audio.currentTime = Math.max((audio.currentTime||0)-5, 0);
});
</script>
</body>
</html>

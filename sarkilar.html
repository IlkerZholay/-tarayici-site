<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>İlker ❤ Bahargül — Şarkılar</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{
  --accent:#d64b74;
  --muted:#6b6470;
  --panel: rgba(255,255,255,0.95);
  --shadow:0 20px 60px rgba(10,10,20,0.08);
  --radius:12px;
  --glass: rgba(255,255,255,0.7);
}
/* reset & base */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Poppins',system-ui,Arial;background:#fff}
body{
  background: url('Bahoş.jpg') center/cover fixed no-repeat;
  background-color:#fff7fb;
  color:#222;
}
/* overlay for readability */
.page-overlay{position:fixed;inset:0;background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.92));z-index:-1}

/* menu button */
.openbtn{
  position:fixed;left:14px;top:14px;z-index:1200;
  background:var(--glass);backdrop-filter:blur(6px);
  padding:10px;border-radius:12px;border:0;box-shadow:var(--shadow);
  cursor:pointer;display:flex;gap:10px;align-items:center;font-weight:700;
}

/* sidebar */
.sidebar{
  position:fixed;left:0;top:0;bottom:0;width:0;overflow:hidden;
  background:linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.98));
  backdrop-filter:blur(8px);box-shadow:2px 0 40px rgba(0,0,0,0.06);
  transition:width .36s;z-index:1190;border-right:1px solid rgba(0,0,0,0.04)
}
.sidebar.open{width:260px}
.sidebar nav{margin-top:64px;display:flex;flex-direction:column;gap:6px;padding:12px}
.sidebar a{padding:12px;border-radius:10px;font-weight:700;color:#222;display:flex;gap:10px;align-items:center}
.sidebar a:hover{background:linear-gradient(90deg,var(--accent),#b33e62);color:#fff}

/* main container */
.container{max-width:1100px;margin:10vh auto;padding:22px}

/* header */
.header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
.header h2{margin:0;font-weight:700;color:#222}
.header p{margin:0;color:var(--muted)}

/* player card */
.player-card{
  background:var(--panel);padding:16px;border-radius:14px;box-shadow:var(--shadow);
  display:grid;gap:12px;
}
@media(min-width:860px){
  .player-card{grid-template-columns:220px 1fr;align-items:center}
}
.cover{width:100%;max-width:220px;border-radius:12px;overflow:hidden;border:6px solid #fff;box-shadow:0 12px 36px rgba(0,0,0,0.08)}
.cover img{width:100%;height:100%;object-fit:cover;display:block}

/* meta */
.meta{padding:6px}
.track-title{font-weight:800;font-size:18px}
.track-artist{color:var(--muted);font-size:13px;margin-top:6px}

/* controls */
.controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:6px}
.ctrl{background:#fff;border:0;padding:10px;border-radius:10px;box-shadow:0 12px 30px rgba(0,0,0,0.06);cursor:pointer}
.ctrl.big{background:linear-gradient(90deg,var(--accent),#b33e62);color:#fff;padding:12px 16px;font-weight:800}

/* progress */
.progress{height:10px;background:#eee;border-radius:999px;overflow:hidden;cursor:pointer;margin-top:8px}
.bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent),#b33e62);transition:width .08s linear}

/* time */
.time-row{display:flex;justify-content:space-between;font-size:13px;color:var(--muted);margin-top:6px}

/* playlist */
.playlist{margin-top:14px;display:flex;flex-direction:column;gap:8px}
.pl-item{display:flex;gap:12px;align-items:center;padding:8px;border-radius:10px;background:#fff;box-shadow:0 10px 30px rgba(0,0,0,0.04);cursor:pointer}
.pl-item.active{outline:3px solid rgba(214,75,116,0.08)}
.pl-thumb{width:48px;height:48px;border-radius:8px;overflow:hidden}
.pl-thumb img{width:100%;height:100%;object-fit:cover}

/* karaoke */
.karaoke{margin-top:12px;padding:12px;background:#fff;border-radius:10px;box-shadow:0 12px 36px rgba(0,0,0,0.06)}
#lyrics{min-height:56px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#333;font-size:16px}
.karaoke small{display:block;text-align:center;color:var(--muted);margin-top:8px}

/* footer */
.footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}

/* mobile tweaks */
@media(max-width:600px){
  .container{margin:6vh 12px}
  .sidebar.open{width:84%}
  .openbtn{left:10px;top:10px}
}

/* nice focus states */
button:focus, a:focus{outline:3px solid rgba(214,75,116,0.12);outline-offset:2px}
</style>
</head>
<body>

<button class="openbtn" id="menuToggle" aria-expanded="false" aria-controls="sidebar">☰ MENÜ</button>

<aside id="sidebar" class="sidebar" aria-hidden="true">
  <div style="padding:12px;display:flex;justify-content:flex-end">
    <button id="sidebarClose" aria-label="Kapat" style="background:transparent;border:0;font-size:20px;cursor:pointer">×</button>
  </div>
  <nav aria-label="Site menüsü">
    <a href="index.html">🏠 Ana Sayfa</a>
    <a href="anilar.html">📸 Anılar</a>
    <a href="zaman.html">⏳ Zaman</a>
    <a href="sarkilar.html" style="background:linear-gradient(90deg,var(--accent),#b33e62);color:#fff;padding:12px;border-radius:10px">🎶 Şarkılar</a>
  </nav>
</aside>

<div class="page-overlay" aria-hidden="true"></div>

<main class="container" role="main">
  <div class="header">
    <div>
      <h2>Şarkılar</h2>
      <p>Spotify-esintili, mobil dostu oynatıcı. Kapak: <strong>Bahar.jpg</strong>. Şarkıyı çalmak için play tuşuna bas.</p>
    </div>
  </div>

  <section class="player-card" aria-label="Müzik oynatıcı">
    <div style="display:flex;flex-direction:column;align-items:center;gap:12px">
      <div class="cover" aria-hidden="false"><img id="cover" src="Bahar.jpg" alt="Kapak"></div>
      <div style="width:100%;max-width:220px;text-align:center;color:var(--muted);font-size:13px">Bu bölüm İlker tarafından hazırlandı — hatıra amaçlı.</div>
    </div>

    <div>
      <div class="meta" aria-hidden="false">
        <div class="track-title" id="title">Dilerim Ki</div>
        <div class="track-artist" id="artist">Dolu Kadehi Ters Tut</div>
      </div>

      <div class="controls" role="toolbar" aria-label="Çalma kontrolü">
        <button class="ctrl" id="prev" title="Önceki">⟨</button>
        <button class="ctrl" id="back10" title="-10 saniye">-10s</button>
        <button class="ctrl big" id="play" title="Oynat / Duraklat">▶</button>
        <button class="ctrl" id="forward10" title="+10 saniye">+10s</button>
        <button class="ctrl" id="next" title="Sonraki">⟩</button>
        <div style="flex:1"></div>
        <label for="vol" style="font-size:13px;color:var(--muted)">Ses</label>
        <input id="vol" type="range" min="0" max="1" step="0.01" value="1" aria-label="Ses kontrolü">
      </div>

      <div class="time-row">
        <div id="cur">0:00</div>
        <div id="dur">0:00</div>
      </div>
      <div class="progress" id="prog" aria-hidden="false" role="progressbar" aria-valuemin="0" aria-valuemax="100">
        <div class="bar" id="bar" style="width:0%"></div>
      </div>

      <div class="playlist" id="playlist" aria-live="polite" aria-label="Çalma listesi"></div>

      <div class="karaoke" aria-label="Karaoke">
        <div id="lyrics">🎤 Şarkı sözleri burada belirecek...</div>
        <small>Şarkı çalarken sözler otomatik görünür.</small>
      </div>
    </div>
  </section>

  <div class="footer">Bu bölüm İlker tarafından düzenlendi — hatıra amaçlı.</div>
</main>

<!-- HIDDEN AUDIO (kontrol JS ile) -->
<audio id="audio" preload="metadata">
  <source src="dolu-kadehi-ters-tut-dilerim-ki.mp3" type="audio/mpeg">
  Tarayıcınız bu ses formatını desteklemiyor.
</audio>

<script>
/* ---------- Sidebar (menu) ---------- */
const menuToggle = document.getElementById('menuToggle');
const sidebar = document.getElementById('sidebar');
const sidebarClose = document.getElementById('sidebarClose');

function openSidebar(){
  sidebar.classList.add('open');
  sidebar.setAttribute('aria-hidden','false');
  menuToggle.setAttribute('aria-expanded','true');
}
function closeSidebar(){
  sidebar.classList.remove('open');
  sidebar.setAttribute('aria-hidden','true');
  menuToggle.setAttribute('aria-expanded','false');
}
menuToggle.addEventListener('click', ()=> {
  if(sidebar.classList.contains('open')) closeSidebar(); else openSidebar();
});
sidebarClose.addEventListener('click', closeSidebar);
/* close on outside click (mobile) */
document.addEventListener('click',(e)=>{
  if(!sidebar.contains(e.target) && !menuToggle.contains(e.target) && sidebar.classList.contains('open')){
    closeSidebar();
  }
});

/* ---------- Player setup ---------- */
const audio = document.getElementById('audio');
const playBtn = document.getElementById('play');
const prevBtn = document.getElementById('prev');
const nextBtn = document.getElementById('next');
const back10 = document.getElementById('back10');
const forward10 = document.getElementById('forward10');
const vol = document.getElementById('vol');
const bar = document.getElementById('bar');
const prog = document.getElementById('prog');
const cur = document.getElementById('cur');
const dur = document.getElementById('dur');
const playlistEl = document.getElementById('playlist');
const cover = document.getElementById('cover');
const titleEl = document.getElementById('title');
const artistEl = document.getElementById('artist');
const lyricsDiv = document.getElementById('lyrics');

const playlist = [
  { src:'dolu-kadehi-ters-tut-dilerim-ki.mp3', title:'Dilerim Ki', artist:'Dolu Kadehi Ters Tut', cover:'Bahar.jpg' }
  // İleride buraya {src, title, artist, cover} öğeleri ekleyebilirsin
];

let idx = 0, playing = false;

/* render playlist UI */
function renderPlaylist(){
  playlistEl.innerHTML = '';
  playlist.forEach((p,i)=>{
    const el = document.createElement('div');
    el.className = 'pl-item' + (i===idx? ' active':'');
    el.innerHTML = `<div class="pl-thumb"><img src="${p.cover}" alt="${p.title} kapak"></div>
      <div style="flex:1"><strong style="display:block">${p.title}</strong><small style="color:var(--muted)">${p.artist}</small></div>`;
    el.addEventListener('click', ()=> { loadTrack(i); play(); });
    playlistEl.appendChild(el);
  });
}

/* load track into audio */
function loadTrack(i){
  idx = i;
  const t = playlist[idx];
  audio.src = t.src;
  cover.src = t.cover || 'Bahar.jpg';
  titleEl.textContent = t.title;
  artistEl.textContent = t.artist;
  document.querySelectorAll('.pl-item').forEach((el,ii)=> el.classList.toggle('active', ii===idx));
  bar.style.width = '0%'; cur.textContent = '0:00'; dur.textContent = '0:00';
}

/* play / pause */
function play(){
  audio.play().then(()=>{
    playing=true; playBtn.textContent='❚❚';
  }).catch((err)=>{
    // autoplay/permission hatası olabilir; kullanıcıya dokunma gerekiyor
    console.warn('Play hatası:', err);
    playing=false; playBtn.textContent='▶';
  });
}
function pause(){
  audio.pause(); playing=false; playBtn.textContent='▶';
}
playBtn.addEventListener('click', ()=> {
  if(playing) pause();
  else {
    if(!audio.src) loadTrack(idx);
    play();
  }
});

/* prev/next/back/forward */
prevBtn.addEventListener('click', ()=> { idx = (idx-1+playlist.length)%playlist.length; loadTrack(idx); play();});
nextBtn.addEventListener('click', ()=> { idx = (idx+1)%playlist.length; loadTrack(idx); play();});
back10.addEventListener('click', ()=> audio.currentTime = Math.max(0, (audio.currentTime||0)-10));
forward10.addEventListener('click', ()=> audio.currentTime = Math.min((audio.duration||0), (audio.currentTime||0)+10));

vol.addEventListener('input', ()=> audio.volume = parseFloat(vol.value));

/* progress bar click to seek */
prog.addEventListener('click', (e)=>{
  const rect = prog.getBoundingClientRect();
  const x = (e.clientX || (e.touches && e.touches[0].clientX)) - rect.left;
  const p = Math.max(0, Math.min(1, x/rect.width));
  if(audio.duration) audio.currentTime = p * audio.duration;
});

/* format time mm:ss */
function formatTime(s){ const m=Math.floor(s/60); const sec = Math.floor(s%60); return ${m}:${sec<10?'0'+sec:sec}; }

/* update UI on timeupdate */
audio.addEventListener('timeupdate', ()=>{
  if(!audio.duration) return;
  const pct = (audio.currentTime / audio.duration) * 100;
  bar.style.width = pct + '%';
  cur.textContent = formatTime(Math.floor(audio.currentTime));
  dur.textContent = formatTime(Math.floor(audio.duration));
  updateLyrics();
});

/* update duration on loadedmetadata */
audio.addEventListener('loadedmetadata', ()=> {
  dur.textContent = formatTime(Math.floor(audio.duration));
});

/* keyboard controls (space/play pause, arrows) */
document.addEventListener('keydown', (e)=>{
  if(e.key === ' ' && document.activeElement.tagName !== 'INPUT' && document.activeElement.tagName !== 'TEXTAREA'){ e.preventDefault(); if(playing) pause(); else play(); }
  if(e.key === 'ArrowRight') audio.currentTime = Math.min((audio.currentTime||0)+5, audio.duration||0);
  if(e.key === 'ArrowLeft') audio.currentTime = Math.max((audio.currentTime||0)-5, 0);
});

/* when track ends, go next */
audio.addEventListener('ended', ()=> { nextBtn.click(); });

/* init */
renderPlaylist();
loadTrack(0);

/* ---------- Karaoke lyrics with timestamps ---------- */
const lyrics = [
  {time:15, text:"Umudumsun"},
  {time:19, text:"Simsiyahken her yanım"},
  {time:21, text:"Huzurumsun"},
  {time:26, text:"Uçurumsun"},
  {time:29, text:"Atlasam karanlığına"},
  {time:31, text:"Adım unutulsun"},
  {time:36, text:"Evim ol"},
  {time:38, text:"Kurtar beni"},
  {time:41, text:"Sonum ol"},
  {time:46, text:"Dilerim ki"},
  {time:49, text:"Dilerim ki asla caymazsın benim olmaktan"},
  {time:56, text:"Dursun zaman"},
  {time:59, text:"Kalsın yerim derinlerinde saklanan"},
  {time:81, text:"Sönemezsin"},
  {time:85, text:"İçimi yakan, delip geçen ateş sensin"},
  {time:91, text:"Onlar ne bilsin"},
  {time:95, text:"Sana çıksa keşke, her yolum hayalimsin"},
  {time:102, text:"Evim ol"},
  {time:104, text:"Kurtar beni"},
  {time:108, text:"Sonum ol"},
  {time:112, text:"Dilerim ki"},
  {time:115, text:"Dilerim ki asla caymazsın benim olmaktan"},
  {time:123, text:"Dursun zaman"},
  {time:126, text:"Kalsın yerim derinlerinde saklanan"},
  {time:134, text:"Kaybolan bir ruh gibi"},
  {time:138, text:"Kayıp gidersem de bul beni"},
  {time:143, text:"Mahvolur da bitersem"},
  {time:148, text:"Tut elimi"},
  {time:153, text:"Dilerim ki, dilerim ki"},
  {time:160, text:"Asla caymazsın benim olmaktan"},
  {time:166, text:"Dursun zaman"},
  {time:170, text:"Kalsın yerim derinlerinde saklanan"},
  {time:175, text:"Dilerim ki, dilerim ki"},
  {time:182, text:"Asla caymazsın benim olmaktan"},
  {time:189, text:"Dursun zaman"},
  {time:193, text:"Kalsın yerim derinlerinde saklanan"}
];

function updateLyrics(){
  const t = Math.floor(audio.currentTime || 0);
  let found = null;
  for(let i=0;i<lyrics.length;i++){
    if(t >= lyrics[i].time) found = lyrics[i];
    else break;
  }
  lyricsDiv.textContent = found ? found.text : '🎤 Şarkı sözleri burada belirecek...';
}

/* Accessibility: focusable playlist items */
playlistEl.addEventListener('keydown', (e)=>{
  if(e.key === 'Enter' && e.target.closest('.pl-item')) e.target.closest('.pl-item').click();
});

</script>
</body>
</html>

<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ƒ∞lker ‚ù§ Baharg√ºl ‚Äî ≈ûarkƒ±lar</title>

  <!-- FontAwesome (ikonlar) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <style>
    :root{
      --accent:#d64b74;
      --muted:#6b6470;
      --panel: rgba(255,255,255,0.06);
      --shadow:0 20px 60px rgba(10,10,20,0.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, 'Poppins', system-ui, Arial, sans-serif;background:#fff}
    /* page bg */
    body::before{
      content:"";
      position:fixed; inset:0;
      background:url('Baho≈ü.jpg') center/cover fixed;
      filter: saturate(.95) blur(.3px);
      z-index:-2;
    }
    body::after{
      content:"";
      position:fixed; inset:0;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.96));
      z-index:-1;
    }

    /* hamburger */
    .openbtn{
      position:fixed; left:14px; top:14px; z-index:1200;
      background: rgba(255,255,255,0.85);
      padding:10px 12px; border-radius:12px; border:0; cursor:pointer;
      box-shadow: var(--shadow);
      display:flex; gap:10px; align-items:center; font-weight:700;
    }

    /* sidebar */
    .sidebar{
      position:fixed; left:0; top:0; bottom:0; width:0; overflow:hidden;
      background: rgba(255,255,255,0.98); backdrop-filter: blur(8px);
      transition: width .32s ease; z-index:1190; box-shadow:2px 0 40px rgba(0,0,0,0.06);
    }
    .sidebar.open{ width:260px; }
    .sidebar nav{ margin-top:70px; display:flex; flex-direction:column; gap:6px; padding:12px; }
    .sidebar a{ padding:12px; border-radius:10px; font-weight:700; color:#222; text-decoration:none; display:flex; gap:10px; align-items:center; }
    .sidebar a:hover{ background: linear-gradient(90deg,var(--accent), #b33e62); color:#fff; }

    /* container */
    .container{ max-width:1100px; margin:8vh auto; padding:20px; }
    .header{ display:flex; align-items:center; justify-content:space-between; gap:12px; color:#222; margin-bottom:12px; }
    .header h2{ margin:0; font-size:20px; letter-spacing:.4px; }

    /* player */
    .player-card{
      background: rgba(255,255,255,0.04);
      padding:18px; border-radius:14px; box-shadow: var(--shadow);
      color:#fff;
    }
    @media(min-width:900px){ .player-card{ display:grid; grid-template-columns: 260px 1fr; gap:18px; align-items:center } }

    .cover{ width:100%; max-width:260px; border-radius:12px; overflow:hidden; border:4px solid rgba(255,255,255,0.05); box-shadow: 0 12px 30px rgba(0,0,0,0.35); }
    .cover img{ width:100%; height:100%; object-fit:cover; display:block; }

    .meta{ padding:6px 0; }
    .track-title{ font-weight:800; font-size:18px; color:#fff; }
    .track-artist{ color:rgba(255,255,255,0.8); font-size:13px; margin-top:6px }

    /* controls */
    .controls{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
    .ctrl{ background:rgba(255,255,255,0.06); border:0; padding:10px 12px; border-radius:10px; cursor:pointer; color:#fff; box-shadow:0 8px 24px rgba(0,0,0,0.25); }
    .ctrl.big{ background: linear-gradient(90deg,var(--accent),#b33e62); padding:12px 16px; font-weight:800; font-size:16px; }

    /* progress */
    .time-row{ display:flex; justify-content:space-between; color:rgba(255,255,255,0.8); font-size:13px; margin-top:8px }
    .progress{ height:10px; background: rgba(255,255,255,0.08); border-radius:999px; overflow:hidden; cursor:pointer; margin-top:8px }
    .bar{ height:100%; width:0%; background: linear-gradient(90deg,var(--accent),#b33e62) }

    /* playlist */
    .playlist{ margin-top:14px; display:flex; flex-direction:column; gap:10px }
    .pl-item{ display:flex; gap:12px; align-items:center; padding:8px; border-radius:10px; background: rgba(255,255,255,0.03); cursor:pointer }
    .pl-item.active{ outline:2px solid rgba(214,75,116,0.12) }
    .pl-item img{ width:52px; height:52px; object-fit:cover; border-radius:8px; box-shadow: 0 8px 20px rgba(0,0,0,0.35) }

    /* karaoke */
    .karaoke{ margin-top:12px; padding:12px; background: rgba(255,255,255,0.03); border-radius:12px; text-align:center; color:#fff }
    #lyrics{ min-height:48px; display:flex; align-items:center; justify-content:center; font-weight:700 }

    /* footer */
    .footer{ margin-top:18px; text-align:center; color:rgba(0,0,0,0.6); font-size:13px; background:transparent }

    /* small screens spacing */
    @media(max-width:900px){
      .container{ margin-top:14vh; padding:14px }
      .cover{ max-width:200px; margin:0 auto 8px auto }
    }
  </style>
</head>
<body>

  <!-- hamburger -->
  <button id="menuToggle" class="openbtn" aria-expanded="false">‚ò∞ MEN√ú</button>

  <!-- sidebar -->
  <aside id="sidebar" class="sidebar" aria-hidden="true">
    <div style="padding:12px;display:flex;justify-content:flex-end">
      <button id="sidebarClose" style="font-size:20px;background:transparent;border:0;cursor:pointer">√ó</button>
    </div>
    <nav>
      <a href="index.html">üè† Ana Sayfa</a>
      <a href="anilar.html">üì∏ Anƒ±lar</a>
      <a href="zaman.html">‚è≥ Zaman</a>
      <a href="sarkilar.html" style="background:linear-gradient(90deg,var(--accent),#b33e62);color:#fff;padding:10px;border-radius:8px">üé∂ ≈ûarkƒ±lar</a>
    </nav>
  </aside>

  <main class="container" role="main">
    <div class="header">
      <div>
        <h2>≈ûarkƒ±lar</h2>
        <p style="color:rgba(255,255,255,0.9);margin:6px 0 0">Spotify-esintili √ßalma deneyimi ‚Äî kapak: <strong>Bahar.jpg</strong></p>
      </div>
    </div>

    <section class="player-card" aria-label="M√ºzik oynatƒ±cƒ±">
      <div class="cover">
        <img id="cover" src="Bahar.jpg" alt="Kapak">
      </div>

      <div>
        <div class="meta">
          <div class="track-title" id="title">Y√ºkleniyor...</div>
          <div class="track-artist" id="artist">‚Äî</div>
        </div>

        <div class="controls" role="toolbar" aria-label="Kontroller">
          <button id="prev" class="ctrl" title="√ñnceki"><i class="fa-solid fa-backward"></i></button>
          <button id="skipBack10" class="ctrl" title="-10s">-10s</button>
          <button id="playPause" class="ctrl big" title="Oynat/Duraklat"><i id="playIcon" class="fa-solid fa-play"></i></button>
          <button id="skipForward10" class="ctrl" title="+10s">+10s</button>
          <button id="next" class="ctrl" title="Sonraki"><i class="fa-solid fa-forward"></i></button>

          <div style="flex:1"></div>

          <label style="color:rgba(255,255,255,0.8);font-size:13px">Ses</label>
          <input id="volume" type="range" min="0" max="1" step="0.01" value="1" style="width:90px">
        </div>

        <div class="time-row">
          <div id="currentTime">0:00</div>
          <div id="duration">0:00</div>
        </div>
        <div class="progress" id="progress" aria-hidden="false">
          <div class="bar" id="bar"></div>
        </div>

        <div class="playlist" id="playlist" aria-label="√áalma Listesi"></div>

        <div class="karaoke" aria-live="polite">
          <div id="lyrics">≈ûarkƒ± s√∂zleri burada belirecek...</div>
        </div>

      </div>
    </section>

    <div class="footer" aria-hidden="false" style="color:rgba(255,255,255,0.8);margin-top:14px">
      Bu b√∂l√ºm ƒ∞lker tarafƒ±ndan d√ºzenlendi ‚Äî hatƒ±ra ama√ßlƒ±.
    </div>
  </main>

  <!-- audio element (gizli) -->
  <audio id="audio" preload="metadata"></audio>

  <!-- JS -->
  <script>
  // --- Sidebar toggles ---
  const menuToggle = document.getElementById('menuToggle');
  const sidebar = document.getElementById('sidebar');
  const sidebarClose = document.getElementById('sidebarClose');

  menuToggle.addEventListener('click', () => {
    const open = sidebar.classList.toggle('open');
    sidebar.setAttribute('aria-hidden', !open);
    menuToggle.setAttribute('aria-expanded', String(open));
  });
  sidebarClose.addEventListener('click', () => {
    sidebar.classList.remove('open');
    sidebar.setAttribute('aria-hidden', 'true');
    menuToggle.setAttribute('aria-expanded', 'false');
  });

  // Close sidebar when clicking outside (mobile)
  window.addEventListener('click', (e) => {
    if (!sidebar.contains(e.target) && !menuToggle.contains(e.target)) {
      sidebar.classList.remove('open');
      sidebar.setAttribute('aria-hidden','true');
      menuToggle.setAttribute('aria-expanded','false');
    }
  });

  // --- Player logic ---
  const audio = document.getElementById('audio');
  const playPauseBtn = document.getElementById('playPause');
  const playIcon = document.getElementById('playIcon');
  const prevBtn = document.getElementById('prev');
  const nextBtn = document.getElementById('next');
  const skipBack10 = document.getElementById('skipBack10');
  const skipForward10 = document.getElementById('skipForward10');
  const vol = document.getElementById('volume');
  const bar = document.getElementById('bar');
  const progress = document.getElementById('progress');
  const currentTimeEl = document.getElementById('currentTime');
  const durationEl = document.getElementById('duration');
  const playlistEl = document.getElementById('playlist');
  const coverImg = document.getElementById('cover');
  const titleEl = document.getElementById('title');
  const artistEl = document.getElementById('artist');
  const lyricsDiv = document.getElementById('lyrics');

  // Playlist - dosya isimleri klas√∂rde aynƒ± isimde olmalƒ±
  const playlist = [
    { src: 'dolu-kadehi-ters-tut-dilerim-ki.mp3', title: 'Dilerim Ki', artist: 'Dolu Kadehi Ters Tut', cover: 'Bahar.jpg' },
    { src: 'sesdosya.mp3', title: 'ƒ∞kinci ≈ûarkƒ±', artist: 'Sanat√ßƒ±', cover: 'baharr.jpg' }
    // ƒ∞leride burada yeni ≈üarkƒ±lar ekleyebilirsin
  ];

  let currentIndex = 0;
  let isPlaying = false;

  // Render playlist UI
  function renderPlaylist(){
    playlistEl.innerHTML = '';
    playlist.forEach((p, i) => {
      const node = document.createElement('div');
      node.className = 'pl-item' + (i === currentIndex ? ' active' : '');
      node.innerHTML = <img src="${p.cover}" alt=""><div style="flex:1"><strong style="display:block">${p.title}</strong><small style="color:rgba(255,255,255,0.8)">${p.artist}</small></div>;
      node.addEventListener('click', () => { loadTrack(i); play(); });
      playlistEl.appendChild(node);
    });
  }

  // Load track
  function loadTrack(index){
    currentIndex = index;
    const t = playlist[currentIndex];
    audio.src = t.src;
    coverImg.src = t.cover || 'Bahar.jpg';
    titleEl.textContent = t.title;
    artistEl.textContent = t.artist;
    document.querySelectorAll('.pl-item').forEach((el, idx) => el.classList.toggle('active', idx === currentIndex));
    // reset UI
    bar.style.width = '0%';
    currentTimeEl.textContent = '0:00';
    durationEl.textContent = '0:00';
  }

  // Play / Pause
  function play(){
    audio.play().then(()=>{
      isPlaying = true;
      playIcon.className = 'fa-solid fa-pause';
    }).catch(err=>{
      // playback blocked? inform user
      console.warn('play failed', err);
      isPlaying = false;
      playIcon.className = 'fa-solid fa-play';
    });
  }
  function pause(){
    audio.pause();
    isPlaying = false;
    playIcon.className = 'fa-solid fa-play';
  }

  // Buttons
  playPauseBtn.addEventListener('click', () => {
    if (!audio.src) loadTrack(currentIndex);
    if (isPlaying) pause(); else play();
  });
  prevBtn.addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + playlist.length) % playlist.length;
    loadTrack(currentIndex);
    play();
  });
  nextBtn.addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % playlist.length;
    loadTrack(currentIndex);
    play();
  });
  skipBack10.addEventListener('click', () => audio.currentTime = Math.max(0, (audio.currentTime || 0) - 10));
  skipForward10.addEventListener('click', () => audio.currentTime = Math.min((audio.duration || 0), (audio.currentTime || 0) + 10));
  vol.addEventListener('input', () => audio.volume = parseFloat(vol.value));

  // Progress bar click
  progress.addEventListener('click', (e) => {
    if (!audio.duration) return;
    const rect = progress.getBoundingClientRect();
    const pos = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
    audio.currentTime = pos * audio.duration;
  });

  // Update progress/time & karaoke
  audio.addEventListener('timeupdate', () => {
    if (!audio.duration) return;
    const pct = (audio.currentTime / audio.duration) * 100;
    bar.style.width = pct + '%';
    currentTimeEl.textContent = formatTime(Math.floor(audio.currentTime));
    durationEl.textContent = formatTime(Math.floor(audio.duration));
    updateLyrics(Math.floor(audio.currentTime));
  });

  audio.addEventListener('loadedmetadata', () => {
    durationEl.textContent = formatTime(Math.floor(audio.duration || 0));
  });

  audio.addEventListener('ended', () => {
    // otomatik sonraki
    nextBtn.click();
  });

  // format time
  function formatTime(s){
    const m = Math.floor(s / 60);
    const sec = Math.floor(s % 60);
    return ${m}:${sec < 10 ? '0' + sec : sec};
  }

  // Karaoke timestamps (saniye)
  const lyrics = [
    {time:15, text:"Umudumsun"},
    {time:19, text:"Simsiyahken her yanƒ±m"},
    {time:21, text:"Huzurumsun"},
    {time:26, text:"U√ßurumsun"},
    {time:29, text:"Atlasam karanlƒ±ƒüƒ±na"},
    {time:31, text:"Adƒ±m unutulsun"},
    {time:36, text:"Evim ol"},
    {time:38, text:"Kurtar beni"},
    {time:41, text:"Sonum ol"},
    {time:46, text:"Dilerim ki"},
    {time:49, text:"Dilerim ki asla caymazsƒ±n benim olmaktan"},
    {time:56, text:"Dursun zaman"},
    {time:59, text:"Kalsƒ±n yerim derinlerinde saklanan"},
    {time:81, text:"S√∂nemezsin"},
    {time:85, text:"ƒ∞√ßimi yakan, delip ge√ßen ate≈ü sensin"},
    {time:91, text:"Onlar ne bilsin"},
    {time:95, text:"Sana √ßƒ±ksa ke≈üke, her yolum hayalimsin"},
    {time:102, text:"Evim ol"},
    {time:104, text:"Kurtar beni"},
    {time:108, text:"Sonum ol"},
    {time:112, text:"Dilerim ki"},
    {time:115, text:"Dilerim ki asla caymazsƒ±n benim olmaktan"},
    {time:123, text:"Dursun zaman"},
    {time:126, text:"Kalsƒ±n yerim derinlerinde saklanan"},
    {time:134, text:"Kaybolan bir ruh gibi"},
    {time:138, text:"Kayƒ±p gidersem de bul beni"},
    {time:143, text:"Mahvolur da bitersem"},
    {time:148, text:"Tut elimi"},
    {time:153, text:"Dilerim ki, dilerim ki"},
    {time:160, text:"Asla caymazsƒ±n benim olmaktan"},
    {time:166, text:"Dursun zaman"},
    {time:170, text:"Kalsƒ±n yerim derinlerinde saklanan"},
    {time:175, text:"Dilerim ki, dilerim ki"},
    {time:182, text:"Asla caymazsƒ±n benim olmaktan"},
    {time:189, text:"Dursun zaman"},
    {time:193, text:"Kalsƒ±n yerim derinlerinde saklanan"}
  ];

  function updateLyrics(t){
    let currentLine = null;
    for(let i=0;i<lyrics.length;i++){
      if(t >= lyrics[i].time) currentLine = lyrics[i];
      else break;
    }
    lyricsDiv.textContent = currentLine ? currentLine.text : 'üé§ ≈ûarkƒ± s√∂zleri burada belirecek...';
  }

  // Keyboard shortcuts
  document.addEventListener('keydown', (e) => {
    if (e.key === ' ' && !['INPUT','TEXTAREA'].includes(document.activeElement.tagName)){
      e.preventDefault(); isPlaying ? pause() : play();
    }
    if (e.key === 'ArrowRight') audio.currentTime = Math.min((audio.currentTime||0)+5, audio.duration||0);
    if (e.key === 'ArrowLeft') audio.currentTime = Math.max((audio.currentTime||0)-5, 0);
  });

  // init
  renderPlaylist();
  loadTrack(0);
  audio.volume = parseFloat(vol.value || 1);

  // Debug fallback: show console errors if audio can't load
  audio.addEventListener('error', (ev) => {
    console.error('Audio error', ev);
    // user-friendly hint
    lyricsDiv.textContent = 'Ses dosyasƒ± y√ºklenemedi ‚Äî dosya adlarƒ±nƒ± ve konumunu kontrol et.';
  });
  </script>

  <!-- Google Analytics (eklediƒüin ID ile) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YBDYWZSF9B"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-YBDYWZSF9B');
  </script>
</body>
</html>

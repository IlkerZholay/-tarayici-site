<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ä°lker â¤ BahargÃ¼l â€” ÅarkÄ±lar</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{
  --accent:#d64b74;
  --muted:#6b6470;
  --panel: rgba(255,255,255,0.95);
  --shadow:0 20px 60px rgba(10,10,20,0.08);
  --radius:12px;
  --glass: rgba(255,255,255,0.6);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Poppins',system-ui,Arial;background:#fff}
body{color:#222}

/* Background image (same site-wide) */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:url('BahoÅŸ.jpg') center/cover fixed no-repeat;
  z-index:-2;
  filter: saturate(.98) blur(0.2px);
}
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.92));
  z-index:-1;
}

/* Hamburger (floating) */
.hamburger{
  position:fixed;
  left:14px;
  top:14px;
  z-index:1400;
  background:var(--glass);
  border-radius:12px;
  padding:10px 12px;
  display:flex;
  gap:10px;
  align-items:center;
  box-shadow:var(--shadow);
  cursor:pointer;
  border:0;
}
.hamburger .bars{font-size:18px;font-weight:800}
.hamburger span{font-weight:700}

/* Sidebar */
.sidebar{
  position:fixed;
  left:0;top:0;bottom:0;
  width:0;overflow:hidden;
  background:rgba(255,255,255,0.96);
  backdrop-filter: blur(8px);
  box-shadow:2px 0 40px rgba(0,0,0,0.06);
  transition: width .36s ease;
  z-index:1300;
}
.sidebar.open{width:280px}
.sidebar .close{
  display:flex;justify-content:flex-end;padding:12px;
  font-size:20px;cursor:pointer;color:#333;
}
.sidebar nav{padding:12px;display:flex;flex-direction:column;gap:8px;margin-top:12px}
.sidebar a{display:flex;gap:12px;align-items:center;padding:12px;border-radius:10px;color:#222;font-weight:700;text-decoration:none}
.sidebar a:hover{background:linear-gradient(90deg,var(--accent),#b33e62);color:#fff}

/* Main container */
.container{max-width:1100px;margin:10vh auto;padding:20px}
.header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
.header h2{margin:0;font-weight:700;color:#222}
.header p{margin:0;color:var(--muted)}

/* Player card (responsive) */
.player-card{background:var(--panel);padding:18px;border-radius:14px;box-shadow:var(--shadow);display:grid;gap:14px}
@media(min-width:860px){ .player-card{grid-template-columns:260px 1fr;align-items:center} }

.cover{width:100%;max-width:260px;border-radius:12px;overflow:hidden;border:1px solid rgba(0,0,0,0.04)}
.cover img{width:100%;height:100%;object-fit:cover;display:block}

.meta{padding:6px 0}
.track-title{font-weight:800;font-size:18px}
.track-artist{color:var(--muted);font-size:13px;margin-top:6px}

/* controls */
.controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:8px}
.ctrl{background:#fff;border:0;padding:10px;border-radius:10px;box-shadow:0 12px 30px rgba(0,0,0,0.06);cursor:pointer}
.ctrl.big{background:linear-gradient(90deg,var(--accent),#b33e62);color:#fff;padding:12px 16px;font-weight:800;box-shadow:0 16px 40px rgba(214,75,116,0.14)}

/* progress */
.progress{height:12px;background:#eee;border-radius:999px;overflow:hidden;cursor:pointer}
.bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent),#b33e62);transition:width .05s linear}

/* playlist */
.playlist{margin-top:12px;display:flex;flex-direction:column;gap:10px}
.pl-item{display:flex;gap:12px;align-items:center;padding:10px;border-radius:10px;background:#fff;box-shadow:0 10px 30px rgba(0,0,0,0.04);cursor:pointer}
.pl-item.active{outline:3px solid rgba(214,75,116,0.08)}

/* karaoke */
.karaoke{margin-top:18px;padding:12px;background:#fff;border-radius:12px;box-shadow:0 12px 36px rgba(0,0,0,0.06)}
#lyrics{min-height:56px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#333;font-size:18px}

/* small UI */
.small{font-size:13px;color:var(--muted)}
.footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}

/* responsive adjustments */
@media(max-width:700px){
  .container{margin-top:5.5rem;padding:14px}
  .player-card{padding:14px}
  .cover{max-width:180px}
}
</style>
</head>
<body>

<!-- Hamburger (visible on all pages) -->
<button class="hamburger" id="hamburgerBtn" aria-label="MenÃ¼ aÃ§">
  <div class="bars">â˜°</div>
  <span>MenÃ¼</span>
</button>

<!-- Sidebar -->
<aside id="sidebar" class="sidebar" aria-hidden="true">
  <div class="close" id="sidebarClose">âœ•</div>
  <nav>
    <a href="index.html">ğŸ  Ana Sayfa</a>
    <a href="anilar.html">ğŸ“¸ AnÄ±lar</a>
    <a href="zaman.html">â³ Zaman</a>
    <a href="sarkilar.html" style="background:linear-gradient(90deg,var(--accent),#b33e62);color:#fff;padding:12px;border-radius:10px">ğŸ¶ ÅarkÄ±lar</a>
  </nav>
</aside>

<!-- Main content -->
<main class="container" role="main">
  <div class="header">
    <div>
      <h2>ÅarkÄ±lar</h2>
      <p class="small">ÅarkÄ± kapaÄŸÄ± Bahar.jpg â€” Ã§almak iÃ§in oynat butonuna bas.</p>
    </div>
  </div>

  <section class="player-card" aria-label="MÃ¼zik oynatÄ±cÄ±">
    <!-- Cover -->
    <div class="cover" aria-hidden="false">
      <img id="cover" src="Bahar.jpg" alt="Kapak">
    </div>

    <!-- Controls & meta -->
    <div>
      <div class="meta">
        <div class="track-title" id="title">Dilerim Ki</div>
        <div class="track-artist" id="artist">Dolu Kadehi Ters Tut</div>
      </div>

      <div class="controls" role="toolbar" aria-label="Oynatma kontrolleri">
        <button class="ctrl" id="prev" title="Ã–nceki">âŸ¨</button>
        <button class="ctrl" id="back10" title="-10s">-10s</button>
        <button class="ctrl big" id="play" aria-pressed="false" title="Oynat/Durdur">â–¶</button>
        <button class="ctrl" id="forward10" title="+10s">+10s</button>
        <button class="ctrl" id="next" title="Sonraki">âŸ©</button>

        <div style="flex:1"></div>

        <label class="small" for="vol">Ses</label>
        <input id="vol" type="range" min="0" max="1" step="0.01" value="1" aria-label="Ses seviyesi">
      </div>

      <div style="margin-top:12px">
        <div style="display:flex;justify-content:space-between;font-size:13px;color:var(--muted);margin-bottom:8px">
          <div id="cur">0:00</div>
          <div id="dur">0:00</div>
        </div>
        <div class="progress" id="prog" aria-label="Ä°lerleme Ã§ubuÄŸu" role="slider" tabindex="0">
          <div class="bar" id="bar" style="width:0%"></div>
        </div>
      </div>

      <div class="playlist" id="playlist" aria-label="Ã‡alma listesi" style="margin-top:14px"></div>

      <div class="karaoke" aria-live="polite">
        <div id="lyrics">ğŸ¤ ÅarkÄ± sÃ¶zleri burada belirecek...</div>
      </div>
    </div>
  </section>

  <div class="footer">Bu bÃ¶lÃ¼m Ä°lker tarafÄ±ndan dÃ¼zenlendi â€” hatÄ±ra amaÃ§lÄ±.</div>
</main>

<!-- native audio (hidden controls) -->
<audio id="audio" preload="metadata">
  <source src="dolu-kadehi-ters-tut-dilerim-ki.mp3" type="audio/mpeg">
  TarayÄ±cÄ±nÄ±z bu ses formatÄ±nÄ± desteklemiyor.
</audio>

<script>
/* ============================
   Sidebar (hamburger) logic
   ============================ */
(function(){
  const hamburger = document.getElementById('hamburgerBtn');
  const sidebar = document.getElementById('sidebar');
  const closeBtn = document.getElementById('sidebarClose');

  function openSidebar(){
    sidebar.classList.add('open');
    sidebar.setAttribute('aria-hidden','false');
    // trap focus could be added later
  }
  function closeSidebar(){
    sidebar.classList.remove('open');
    sidebar.setAttribute('aria-hidden','true');
  }

  hamburger.addEventListener('click', openSidebar);
  closeBtn.addEventListener('click', closeSidebar);

  // close sidebar when clicking outside (tap)
  document.addEventListener('click', (e)=>{
    if(!sidebar.classList.contains('open')) return;
    const inside = sidebar.contains(e.target) || hamburger.contains(e.target);
    if(!inside) closeSidebar();
  });

  // keyboard: Esc to close
  document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeSidebar(); });
})();

/* ============================
   Player logic (clean, robust)
   ============================ */
(function(){
  // DOM
  const audio = document.getElementById('audio');
  const playBtn = document.getElementById('play');
  const prevBtn = document.getElementById('prev');
  const nextBtn = document.getElementById('next');
  const back10 = document.getElementById('back10');
  const forward10 = document.getElementById('forward10');
  const vol = document.getElementById('vol');
  const bar = document.getElementById('bar');
  const prog = document.getElementById('prog');
  const cur = document.getElementById('cur');
  const dur = document.getElementById('dur');
  const playlistEl = document.getElementById('playlist');
  const cover = document.getElementById('cover');
  const titleEl = document.getElementById('title');
  const artistEl = document.getElementById('artist');
  const lyricsDiv = document.getElementById('lyrics');

  // Playlist (baÅŸlangÄ±Ã§)
  const playlist = [
    { src:'dolu-kadehi-ters-tut-dilerim-ki.mp3', title:'Dilerim Ki', artist:'Dolu Kadehi Ters Tut', cover:'Bahar.jpg' }
    // ileride buraya eklemeler yapabilirsin
  ];

  let idx = 0;
  let playing = false;
  let dragging = false;

  // helpers
  function formatTime(s){ const m=Math.floor(s/60)||0; const sec=Math.floor(s%60)||0; return ${m}:${sec<10?'0'+sec:sec}; }

  // render playlist
  function renderPlaylist(){
    playlistEl.innerHTML = '';
    playlist.forEach((p,i)=>{
      const el = document.createElement('div');
      el.className = 'pl-item' + (i===idx? ' active':'');
      el.innerHTML = `<div style="width:48px;height:48px;overflow:hidden;border-radius:8px"><img src="${p.cover}" style="width:100%;height:100%;object-fit:cover"></div>
        <div style="flex:1;padding-left:8px"><strong style="display:block">${p.title}</strong><small style="color:var(--muted)">${p.artist}</small></div>`;
      el.addEventListener('click', ()=> { loadTrack(i); play(); });
      playlistEl.appendChild(el);
    });
  }

  // load track
  function loadTrack(i){
    idx = i;
    const t = playlist[idx];
    audio.src = t.src;
    try { audio.load(); } catch(e){}
    cover.src = t.cover || 'Bahar.jpg';
    titleEl.textContent = t.title;
    artistEl.textContent = t.artist;
    document.querySelectorAll('.pl-item').forEach((el,ii)=> el.classList.toggle('active', ii===idx));
    bar.style.width = '0%'; cur.textContent = '0:00'; dur.textContent = '0:00';
  }

  // play / pause
  function play(){
    audio.play().then(()=>{ playing=true; playBtn.textContent='âšâš'; playBtn.setAttribute('aria-pressed','true'); }).catch((err)=>{
      // play fail (auto-play blocked) â€” leave UI consistent
      console.warn('Play hatasÄ±:', err);
      playing=false;
      playBtn.textContent='â–¶';
      playBtn.setAttribute('aria-pressed','false');
    });
  }
  function pause(){
    audio.pause();
    playing=false;
    playBtn.textContent='â–¶';
    playBtn.setAttribute('aria-pressed','false');
  }

  // events
  playBtn.addEventListener('click', ()=>{
    if(!audio.src) loadTrack(idx);
    playing ? pause() : play();
  });
  prevBtn.addEventListener('click', ()=>{ idx = (idx-1+playlist.length)%playlist.length; loadTrack(idx); play(); });
  nextBtn.addEventListener('click', ()=>{ idx = (idx+1)%playlist.length; loadTrack(idx); play(); });
  back10.addEventListener('click', ()=> { audio.currentTime = Math.max(0, (audio.currentTime||0) - 10); });
  forward10.addEventListener('click', ()=> { audio.currentTime = Math.min((audio.duration||0), (audio.currentTime||0) + 10); });
  vol.addEventListener('input', ()=> audio.volume = parseFloat(vol.value) );

  // progress bar clicking / touch
  function seekByClientX(clientX){
    const rect = prog.getBoundingClientRect();
    const x = clientX - rect.left;
    const p = Math.max(0, Math.min(1, x/rect.width));
    if(audio.duration) audio.currentTime = p * audio.duration;
  }
  prog.addEventListener('click', (e)=> seekByClientX(e.clientX));
  // touch support
  prog.addEventListener('touchstart', (e)=> { dragging=true; seekByClientX(e.touches[0].clientX); }, {passive:true});
  prog.addEventListener('touchmove', (e)=> { if(dragging) seekByClientX(e.touches[0].clientX); }, {passive:true});
  prog.addEventListener('touchend', ()=> { dragging=false; });

  // keyboard shortcuts (space toggles play unless typing)
  document.addEventListener('keydown', (e)=>{
    const active = document.activeElement.tagName;
    if(e.key === ' ' && active !== 'INPUT' && active !== 'TEXTAREA'){ e.preventDefault(); if(playing) pause(); else play(); }
    if(e.key === 'ArrowRight') audio.currentTime = Math.min((audio.currentTime||0)+5, audio.duration||0);
    if(e.key === 'ArrowLeft') audio.currentTime = Math.max((audio.currentTime||0)-5, 0);
  });

  // update UI while playing
  audio.addEventListener('timeupdate', ()=>{
    if(!audio.duration) return;
    const pct = (audio.currentTime / audio.duration) * 100;
    bar.style.width = pct + '%';
    cur.textContent = formatTime(Math.floor(audio.currentTime));
    dur.textContent = formatTime(Math.floor(audio.duration));
    updateLyrics(); // karaoke sync
  });

  audio.addEventListener('loadedmetadata', ()=>{
    dur.textContent = audio.duration ? formatTime(Math.floor(audio.duration)) : '0:00';
  });

  // handle end -> next
  audio.addEventListener('ended', ()=> { nextBtn.click(); });

  /* Karaoke lyrics timestamps (seconds) */
  const lyrics = [
    {time:15, text:"Umudumsun"},
    {time:19, text:"Simsiyahken her yanÄ±m"},
    {time:21, text:"Huzurumsun"},
    {time:26, text:"UÃ§urumsun"},
    {time:29, text:"Atlasam karanlÄ±ÄŸÄ±na"},
    {time:31, text:"AdÄ±m unutulsun"},
    {time:36, text:"Evim ol"},
    {time:38, text:"Kurtar beni"},
    {time:41, text:"Sonum ol"},
    {time:46, text:"Dilerim ki"},
    {time:49, text:"Dilerim ki asla caymazsÄ±n benim olmaktan"},
    {time:56, text:"Dursun zaman"},
    {time:59, text:"KalsÄ±n yerim derinlerinde saklanan"},
    {time:81, text:"SÃ¶nemezsin"},
    {time:85, text:"Ä°Ã§imi yakan, delip geÃ§en ateÅŸ sensin"},
    {time:91, text:"Onlar ne bilsin"},
    {time:95, text:"Sana Ã§Ä±ksa keÅŸke, her yolum hayalimsin"},
    {time:102, text:"Evim ol"},
    {time:104, text:"Kurtar beni"},
    {time:108, text:"Sonum ol"},
    {time:112, text:"Dilerim ki"},
    {time:115, text:"Dilerim ki asla caymazsÄ±n benim olmaktan"},
    {time:123, text:"Dursun zaman"},
    {time:126, text:"KalsÄ±n yerim derinlerinde saklanan"},
    {time:134, text:"Kaybolan bir ruh gibi"},
    {time:138, text:"KayÄ±p gidersem de bul beni"},
    {time:143, text:"Mahvolur da bitersem"},
    {time:148, text:"Tut elimi"},
    {time:153, text:"Dilerim ki, dilerim ki"},
    {time:160, text:"Asla caymazsÄ±n benim olmaktan"},
    {time:166, text:"Dursun zaman"},
    {time:170, text:"KalsÄ±n yerim derinlerinde saklanan"},
    {time:175, text:"Dilerim ki, dilerim ki"},
    {time:182, text:"Asla caymazsÄ±n benim olmaktan"},
    {time:189, text:"Dursun zaman"},
    {time:193, text:"KalsÄ±n yerim derinlerinde saklanan"}
  ];

  function updateLyrics(){
    const t = Math.floor(audio.currentTime || 0);
    let found = null;
    for(let i=0;i<lyrics.length;i++){
      if(t >= lyrics[i].time) found = lyrics[i];
      else break;
    }
    lyricsDiv.textContent = found ? found.text : 'ğŸ¤ ÅarkÄ± sÃ¶zleri burada belirecek...';
  }

  // initialize
  renderPlaylist();
  loadTrack(0);
  audio.volume = parseFloat(vol.value || 1);

  // expose small debug for dev (optional)
  window._player = { audio, loadTrack, play, pause, playlist };

})();
</script>
</body>
</html>

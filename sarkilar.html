<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Ä°lker â¤ BahargÃ¼l â€” ÅarkÄ±lar</title>

<!-- Google Analytics (gtag) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YBDYWZSF9B"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-YBDYWZSF9B');
</script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

<style>
:root{
  --accent:#d64b74;
  --muted:#6b6470;
  --bg-ov: rgba(255,255,255,0.9);
  --glass: rgba(255,255,255,0.12);
  --shadow: 0 20px 60px rgba(10,10,20,0.08);
  --radius:14px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Poppins',system-ui,Arial;background:#fff;color:#111;-webkit-font-smoothing:antialiased}
body::before{
  content:"";
  position:fixed;inset:0;
  background: url("BahoÅŸ.jpg") center/cover fixed no-repeat;
  filter: saturate(.98) contrast(.98);
  z-index:-2;
}
body::after{
  content:"";
  position:fixed;inset:0;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.42));z-index:-1;
}

/* Hamburger + sidebar (same across site) */
.openbtn{
  position:fixed;left:14px;top:14px;z-index:2000;background:var(--glass);border:0;padding:10px 12px;border-radius:12px;backdrop-filter:blur(6px);cursor:pointer;box-shadow:var(--shadow);
  display:flex;align-items:center;gap:10px;font-weight:700;color:#fff;
}
.openbtn .bars{width:22px;height:14px;position:relative}
.openbtn .bars span{position:absolute;left:0;right:0;height:2px;background:#fff;border-radius:2px;display:block}
.openbtn .bars span:nth-child(1){top:0}
.openbtn .bars span:nth-child(2){top:6px}
.openbtn .bars span:nth-child(3){top:12px}

.sidebar{
  position:fixed;left:12px;top:60px;z-index:1900;width:0;overflow:hidden;height:calc(100% - 84px);border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  backdrop-filter:blur(8px);box-shadow:0 20px 60px rgba(2,6,12,0.45);transition:width .36s;
}
.sidebar.open{width:260px}
.sidebar nav{display:flex;flex-direction:column;padding:12px;gap:8px}
.sidebar a{display:flex;align-items:center;gap:10px;padding:10px;border-radius:8px;color:#fff;font-weight:700}
.sidebar a:hover{background:linear-gradient(90deg,var(--accent),#b33e62)}

/* Main container */
.container{max-width:1100px;margin:10vh auto;padding:22px}
.header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px}
.brand{display:flex;align-items:center;gap:12px}
.brand .logo{width:58px;height:58px;border-radius:12px;overflow:hidden;box-shadow:var(--shadow)}
.brand .logo img{width:100%;height:100%;object-fit:cover;display:block}
.title{font-family:'Dancing Script',cursive;font-size:24px;color:var(--accent)}
.subtitle{color:var(--muted);font-size:14px}

/* Player card */
.player{
  background:rgba(255,255,255,0.95);border-radius:16px;padding:16px;box-shadow:var(--shadow);display:grid;gap:12px;
}
@media(min-width:900px){ .player{grid-template-columns:260px 1fr;align-items:center} }

.cover{width:100%;max-width:260px;border-radius:12px;overflow:hidden;box-shadow:0 14px 40px rgba(0,0,0,0.08)}
.cover img{width:100%;height:100%;object-fit:cover;display:block}

.meta{padding:6px 2px}
.track-title{font-weight:800;font-size:20px}
.track-artist{color:var(--muted);font-size:13px;margin-top:6px}

/* Controls */
.controls{display:flex;align-items:center;gap:10px;flex-wrap:wrap;margin-top:10px}
.ctrl{background:#fff;border:0;padding:10px;border-radius:10px;box-shadow:0 12px 30px rgba(0,0,0,0.06);cursor:pointer}
.ctrl.big{background:linear-gradient(90deg,var(--accent),#b33e62);color:#fff;padding:12px 18px;font-weight:800}
.time{font-size:13px;color:var(--muted)}

/* progress */
.progress{height:10px;background:#eee;border-radius:999px;overflow:hidden;cursor:pointer;flex:1}
.bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent),#b33e62);transition:width .08s linear}

/* playlist */
.playlist{margin-top:14px;display:flex;flex-direction:column;gap:8px}
.pl-item{display:flex;gap:12px;align-items:center;padding:10px;border-radius:10px;background:#fff;box-shadow:0 10px 30px rgba(0,0,0,0.04);cursor:pointer}
.pl-item.active{outline:3px solid rgba(214,75,116,0.08)}
.pl-item img{width:56px;height:56px;border-radius:8px;object-fit:cover}

/* karaoke / lyrics */
.karaoke{margin-top:14px;padding:12px;background:linear-gradient(180deg,#fff,#fffafc);border-radius:12px;box-shadow:0 12px 36px rgba(0,0,0,0.06)}
#lyrics{min-height:54px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#333;font-size:18px}

/* footer */
.footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}

/* responsive tweaks */
@media(max-width:820px){
  .player{grid-template-columns:1fr}
  .cover{max-width:100%}
  .controls{justify-content:center}
  .sidebar{left:8px;top:72px}
  .container{padding:12px}
}
</style>
</head>
<body>

<!-- Hamburger -->
<button class="openbtn" id="menuToggle" aria-label="MenÃ¼yÃ¼ aÃ§">
  <div class="bars" aria-hidden="true"><span></span><span></span><span></span></div>
  MENÃœ
</button>

<!-- Sidebar -->
<aside id="sidebar" class="sidebar" aria-hidden="true">
  <nav>
    <a href="index.html">ğŸ  Ana Sayfa</a>
    <a href="anilar.html">ğŸ“¸ AnÄ±lar</a>
    <a href="zaman.html">â³ Zaman</a>
    <a href="sarkilar.html" style="background:linear-gradient(90deg,var(--accent),#b33e62);color:#fff;padding:10px;border-radius:8px">ğŸ¶ ÅarkÄ±lar</a>
    <a href="gokyuzu.html">ğŸŒŒ GÃ¶kyÃ¼zÃ¼</a>
  </nav>
</aside>

<!-- Page -->
<main class="container" role="main">
  <div class="header">
    <div class="brand">
      <div class="logo"><img src="Bahar.jpg" alt="Kapak"></div>
      <div>
        <div class="title">ÅarkÄ±lar</div>
        <div class="subtitle">SeÃ§, Ã§al, sÃ¶zleri takip et â€” hafÄ±za iÃ§in kaydedildi.</div>
      </div>
    </div>
    <div style="text-align:right;color:var(--muted);font-size:13px">Bu bÃ¶lÃ¼m Ä°lker tarafÄ±ndan dÃ¼zenlendi â€” hatÄ±ra amaÃ§lÄ±.</div>
  </div>

  <section class="player" aria-label="MÃ¼zik oynatÄ±cÄ±">
    <!-- left: kapak -->
    <div>
      <div class="cover"><img id="coverImg" src="Bahar.jpg" alt="Kapak"></div>
    </div>

    <!-- right: meta / controls -->
    <div>
      <div class="meta">
        <div class="track-title" id="title">Dilerim Ki</div>
        <div class="track-artist" id="artist">Dolu Kadehi Ters Tut</div>
      </div>

      <div class="controls" role="toolbar" aria-label="Ã‡alma kontrolleri">
        <button class="ctrl" id="prevBtn" title="Ã–nceki">âŸ¨</button>
        <button class="ctrl" id="back10" title="-10s">-10s</button>
        <button class="ctrl big" id="playBtn" title="Oynat / Duraklat">â–¶</button>
        <button class="ctrl" id="forward10" title="+10s">+10s</button>
        <button class="ctrl" id="nextBtn" title="Sonraki">âŸ©</button>

        <div style="flex:1"></div>

        <div class="time" id="curTime">0:00</div>
        <div class="progress" id="progress" aria-label="Ä°lerleme Ã§ubuÄŸu" title="Ã‡alma konumu">
          <div class="bar" id="bar"></div>
        </div>
        <div class="time" id="durTime">0:00</div>
      </div>

      <div style="display:flex;gap:10px;align-items:center;margin-top:10px">
        <label style="font-size:13px;color:var(--muted)">Ses</label>
        <input id="vol" type="range" min="0" max="1" step="0.01" value="1" aria-label="Ses seviyesi">
      </div>

      <div class="playlist" id="playlist" aria-label="Ã‡alma listesi"></div>

      <div class="karaoke" aria-live="polite">
        <div id="lyrics">ğŸ¤ ÅarkÄ± sÃ¶zleri burada belirecek...</div>
      </div>
    </div>
  </section>

  <div class="footer">Bu sayfa Ä°lker tarafÄ±ndan bir hatÄ±ra olarak hazÄ±rlandÄ±.</div>
</main>

<!-- Hidden audio element -->
<audio id="audio" preload="metadata"></audio>

<script>
/* ============================
   Sidebar toggle
   ============================ */
const menuToggle = document.getElementById('menuToggle');
const sidebar = document.getElementById('sidebar');
menuToggle.addEventListener('click', ()=>{
  const open = sidebar.classList.toggle('open');
  sidebar.setAttribute('aria-hidden', String(!open));
});

/* ============================
   Playlist & player setup
   ============================ */
/*
  Dosya isimleri aynÄ± klasÃ¶rde olmalÄ±:
  - dolu-kadehi-ters-tut-dilerim-ki.mp3
  - sesdosya.mp3   (veya sesdosya.mp4 - fallback handled)
  - Bahar.jpg (kapak)
*/
const playlist = [
  { src: 'dolu-kadehi-ters-tut-dilerim-ki.mp3', title: 'Dilerim Ki', artist: 'Dolu Kadehi Ters Tut', cover: 'Bahar.jpg' },
  { src: 'sesdosya.mp3',               title: 'Ä°kinci ParÃ§a', artist: 'Ä°lker',                     cover: 'Bahar.jpg' }
  // Ä°stersen sonradan ekle: { src:'yeni.mp3', title:'BaÅŸlÄ±k', artist:'SanatÃ§Ä±', cover:'kapak.jpg'}
];

const audio = document.getElementById('audio');
const playBtn = document.getElementById('playBtn');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const back10 = document.getElementById('back10');
const forward10 = document.getElementById('forward10');
const vol = document.getElementById('vol');
const bar = document.getElementById('bar');
const progress = document.getElementById('progress');
const curTime = document.getElementById('curTime');
const durTime = document.getElementById('durTime');
const playlistEl = document.getElementById('playlist');
const coverImg = document.getElementById('coverImg');
const titleEl = document.getElementById('title');
const artistEl = document.getElementById('artist');
const lyricsDiv = document.getElementById('lyrics');

let idx = 0;
let playing = false;

function formatTime(s){
  if(!s || isNaN(s)) return '0:00';
  const m = Math.floor(s/60);
  const sec = Math.floor(s%60);
  return ${m}:${sec<10? '0'+sec : sec};
}

function renderPlaylist(){
  playlistEl.innerHTML = '';
  playlist.forEach((p,i)=>{
    const el = document.createElement('div');
    el.className = 'pl-item' + (i===idx? ' active' : '');
    el.innerHTML = `
      <img src="${p.cover}" alt="kapak">
      <div style="flex:1">
        <div style="font-weight:800">${p.title}</div>
        <div style="color:var(--muted);font-size:13px">${p.artist}</div>
      </div>`;
    el.addEventListener('click', ()=> { loadTrack(i); play(); });
    playlistEl.appendChild(el);
  });
}

function loadTrack(i){
  idx = i;
  const t = playlist[idx];
  // Set source, but check if file exists? Browsers will 404 if not â€” assume correct names placed.
  audio.src = t.src;
  audio.load();
  coverImg.src = t.cover || 'Bahar.jpg';
  titleEl.textContent = t.title;
  artistEl.textContent = t.artist;
  document.querySelectorAll('.pl-item').forEach((el,ii)=> el.classList.toggle('active', ii===idx));
  // reset UI
  bar.style.width = '0%';
  curTime.textContent = '0:00';
  durTime.textContent = '0:00';
}

/* Controls */
function play(){
  audio.play().then(()=> {
    playing = true;
    playBtn.textContent = 'âšâš';
  }).catch((err)=> {
    // autoplay blocked or other
    console.warn('play error', err);
    playing = false;
    playBtn.textContent = 'â–¶';
  });
}
function pause(){
  audio.pause();
  playing = false;
  playBtn.textContent = 'â–¶';
}

playBtn.addEventListener('click', ()=> {
  if(playing) pause(); else {
    // if no src loaded yet, load current
    if(!audio.src) loadTrack(idx);
    play();
  }
});

prevBtn.addEventListener('click', ()=> {
  idx = (idx - 1 + playlist.length) % playlist.length;
  loadTrack(idx);
  play();
});
nextBtn.addEventListener('click', ()=> {
  idx = (idx + 1) % playlist.length;
  loadTrack(idx);
  play();
});

back10.addEventListener('click', ()=> { audio.currentTime = Math.max(0, (audio.currentTime || 0) - 10); });
forward10.addEventListener('click', ()=> { audio.currentTime = Math.min((audio.duration || 0), (audio.currentTime || 0) + 10); });

vol.addEventListener('input', ()=> audio.volume = parseFloat(vol.value));

/* progress click to seek */
progress.addEventListener('click', (e)=>{
  const rect = progress.getBoundingClientRect();
  const x = (e.clientX || (e.touches && e.touches[0].clientX)) - rect.left;
  const p = Math.max(0, Math.min(1, x / rect.width));
  if(audio.duration) audio.currentTime = p * audio.duration;
});

/* update UI on timeupdate */
audio.addEventListener('timeupdate', ()=>{
  if(!audio.duration) return;
  const pct = (audio.currentTime / audio.duration) * 100;
  bar.style.width = pct + '%';
  curTime.textContent = formatTime(audio.currentTime);
  durTime.textContent = formatTime(audio.duration);
  updateLyrics(audio.currentTime);
});

/* keyboard shortcuts */
document.addEventListener('keydown', (e)=>{
  if(e.key === ' ' && !['INPUT','TEXTAREA'].includes(document.activeElement.tagName)){ e.preventDefault(); if(playing) pause(); else play(); }
  if(e.key === 'ArrowRight') audio.currentTime = Math.min((audio.currentTime||0)+5, audio.duration||0);
  if(e.key === 'ArrowLeft') audio.currentTime = Math.max((audio.currentTime||0)-5, 0);
});

/* when track ends, play next */
audio.addEventListener('ended', ()=> { nextBtn.click(); });

/* initial render */
renderPlaylist();
loadTrack(0);

/* ============================
   Karaoke / lyrics sync
   ============================ */
/* Use the timestamps (seconds) you provided earlier â€” extended where helpful. */
const lyrics = [
  {time:15, text:"Umudumsun"},
  {time:19, text:"Simsiyahken her yanÄ±m"},
  {time:21, text:"Huzurumsun"},
  {time:26, text:"UÃ§urumsun"},
  {time:29, text:"Atlasam karanlÄ±ÄŸÄ±na"},
  {time:31, text:"AdÄ±m unutulsun"},
  {time:36, text:"Evim ol"},
  {time:38, text:"Kurtar beni"},
  {time:41, text:"Sonum ol"},
  {time:46, text:"Dilerim ki"},
  {time:49, text:"Dilerim ki asla caymazsÄ±n benim olmaktan"},
  {time:56, text:"Dursun zaman"},
  {time:59, text:"KalsÄ±n yerim derinlerinde saklanan"},
  {time:81, text:"SÃ¶nemezsin"},
  {time:85, text:"Ä°Ã§imi yakan, delip geÃ§en ateÅŸ sensin"},
  {time:91, text:"Onlar ne bilsin"},
  {time:95, text:"Sana Ã§Ä±ksa keÅŸke, her yolum hayalimsin"},
  {time:102, text:"Evim ol"},
  {time:104, text:"Kurtar beni"},
  {time:108, text:"Sonum ol"},
  {time:112, text:"Dilerim ki"},
  {time:115, text:"Dilerim ki asla caymazsÄ±n benim olmaktan"},
  {time:123, text:"Dursun zaman"},
  {time:126, text:"KalsÄ±n yerim derinlerinde saklanan"},
  {time:134, text:"Kaybolan bir ruh gibi"},
  {time:138, text:"KayÄ±p gidersem de bul beni"},
  {time:143, text:"Mahvolur da bitersem"},
  {time:148, text:"Tut elimi"},
  {time:153, text:"Dilerim ki, dilerim ki"},
  {time:160, text:"Asla caymazsÄ±n benim olmaktan"},
  {time:166, text:"Dursun zaman"},
  {time:170, text:"KalsÄ±n yerim derinlerinde saklanan"},
  {time:175, text:"Dilerim ki, dilerim ki"},
  {time:182, text:"Asla caymazsÄ±n benim olmaktan"},
  {time:189, text:"Dursun zaman"},
  {time:193, text:"KalsÄ±n yerim derinlerinde saklanan"}
];

function updateLyrics(current){
  current = Math.floor(current || 0);
  let line = null;
  for(let i=0;i<lyrics.length;i++){
    if(current >= lyrics[i].time) line = lyrics[i];
    else break;
  }
  lyricsDiv.textContent = line ? line.text : 'ğŸ¤ ÅarkÄ± sÃ¶zleri burada belirecek...';
}

/* ============================
   Small UX niceties
   ============================ */
/* Swipe support for playlist (mobile) */
let startX = 0;
playlistEl.addEventListener('touchstart', e => startX = e.changedTouches[0].clientX);
playlistEl.addEventListener('touchend', e => {
  const dx = e.changedTouches[0].clientX - startX;
  if(Math.abs(dx) > 60) playlistEl.scrollBy({left: dx < 0 ? 200 : -200, behavior:'smooth'});
});

/* Try to guard for file extension mismatch: if loading initially fails, attempt fallback .mp4 */
audio.addEventListener('error', (e)=>{
  console.warn('Audio error, trying fallback if available', e);
  const curSrc = audio.src || '';
  if(curSrc && curSrc.endsWith('.mp3')){
    const fallback = curSrc.replace('.mp3','.mp4');
    // only try if different
    if(fallback !== curSrc){
      audio.src = fallback;
      audio.load();
      // don't auto-play to avoid autoplay block; let user press play
    }
  }
});

/* Touch-friendly large play toggle (double tap cover) */
coverImg.addEventListener('click', ()=> {
  if(playing) pause(); else play();
});
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Şarkılar – Hatıra Sitesi</title>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YBDYWZSF9B"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-YBDYWZSF9B');
  </script>
  <!-- Font ve İkonlar -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <style>
    body { margin:0; font-family: 'Montserrat', sans-serif; background: #222; color: #fff; text-align: center;}
    .content { margin-left: 270px; padding: 20px; }
    h1 { margin-top: 0; }
    #playerCover {
      width: 300px;
      border: 5px solid #444;
      border-radius: 10px;
    }
    .controls {
      margin-top: 20px;
    }
    .controls button {
      background: none;
      border: none;
      color: #fff;
      font-size: 2em;
      margin: 0 15px;
      cursor: pointer;
      transition: color 0.2s;
    }
    .controls button:hover { color: #1db954; } /* Spotify yeşili */
    #progressContainer {
      margin-top: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    #seekBar {
      width: 50%;
    }
    #volumeBar {
      width: 15%;
      margin-left: 20px;
    }
    #lyrics {
      margin-top: 20px;
      background: rgba(0,0,0,0.7);
      padding: 15px;
      border-radius: 8px;
      max-width: 600px;
      margin-left: auto; margin-right: auto;
    }
    #lyrics p {
      margin: 5px 0;
      transition: color 0.3s;
    }
    /* Vurgulanmış (karaoke) satırlar */
    .highlight { color: #1db954; font-weight: bold; }
  </style>
</head>
<body>
  <!-- Menü Toggle ve Sidebar -->
  <div class="menu-toggle" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
  <nav class="sidebar" id="sidebar">
    <div style="text-align:center; padding-bottom:10px; font-weight:bold;">Hatıra Sitesi</div>
    <ul>
      <li><a href="index.html"><i class="fas fa-home"></i> Anasayfa</a></li>
      <li><a href="anilar.html"><i class="fas fa-camera"></i> Anılar</a></li>
      <li><a href="zaman.html"><i class="fas fa-clock"></i> Zaman Çizelgesi</a></li>
      <li><a href="sarkilar.html"><i class="fas fa-music"></i> Şarkılar</a></li>
    </ul>
  </nav>

  <div class="content">
    <h1>Şarkı Çalar</h1>
    <!-- Kapak Görseli -->
    <img src="Bahar.jpg" alt="Şarkı Kapağı" id="playerCover">

    <!-- Oynatma Kontrolleri -->
    <div class="controls">
      <button id="prevBtn"><i class="fas fa-step-backward"></i></button>
      <button id="playPauseBtn"><i class="fas fa-play"></i></button>
      <button id="nextBtn"><i class="fas fa-step-forward"></i></button>
    </div>

    <!-- İlerleme Çubuğu ve Zaman -->
    <div id="progressContainer">
      <span id="currentTime">00:00</span>
      <input type="range" id="seekBar" min="0" value="0">
      <span id="duration">00:00</span>
      <input type="range" id="volumeBar" min="0" max="1" step="0.01" value="0.8">
    </div>

    <!-- Karaoke Altyazıları -->
    <div id="lyrics">
      <p data-time="0">Dilerim ki geceler de benimsindir</p>
      <p data-time="5">Dilerim ki her gece rüyaların senindir</p>
      <p data-time="10">Boş değilmiş hayatın tadı, gözlerim gidiyor kapına</p>
      <!-- Daha fazla satır eklenebilir -->
    </div>

    <!-- Gizli Audio Elemanı -->
    <audio id="audioPlayer">
      <source src="dolu-kadehi-ters-tut-dilerim-ki.mp3" type="audio/mp3">
      Tarayıcınız audio etiketini desteklemiyor.
    </audio>
  </div>

  <script>
    // Menü aç/kapa (mobil)
    function toggleMenu() {
      document.getElementById('sidebar').classList.toggle('open');
    }
    // Song listesi ve indeks
    const songs = ["dolu-kadehi-ters-tut-dilerim-ki.mp3", "sesdosya.mp3"];
    let currentSong = 0;
    const audio = document.getElementById('audioPlayer');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const seekBar = document.getElementById('seekBar');
    const currentTimeEl = document.getElementById('currentTime');
    const durationEl = document.getElementById('duration');
    const volumeBar = document.getElementById('volumeBar');
    const lyrics = document.querySelectorAll('#lyrics p');

    // Şarkı yükleme
    function loadSong(index) {
      audio.src = songs[index];
      audio.load();
      playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
    }
    // Çalma / Duraklat
    function togglePlayPause() {
      if (audio.paused) {
        audio.play();
        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
      } else {
        audio.pause();
        playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
      }
    }
    // İleri / Geri
    prevBtn.addEventListener('click', () => {
      currentSong = (currentSong - 1 + songs.length) % songs.length;
      loadSong(currentSong);
      audio.play();
      playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
    });
    nextBtn.addEventListener('click', () => {
      currentSong = (currentSong + 1) % songs.length;
      loadSong(currentSong);
      audio.play();
      playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
    });
    playPauseBtn.addEventListener('click', togglePlayPause);

    // Ses ayarı
    volumeBar.addEventListener('input', () => {
      audio.volume = volumeBar.value;
    });

    // Zaman güncelleme
    audio.addEventListener('loadedmetadata', () => {
      seekBar.max = audio.duration;
      durationEl.textContent = formatTime(audio.duration);
    });
    audio.addEventListener('timeupdate', () => {
      seekBar.value = audio.currentTime;
      currentTimeEl.textContent = formatTime(audio.currentTime);
      // Karaoke: doğru söz satırını vurgula
      lyrics.forEach(line => {
        line.classList.remove('highlight');
        if (audio.currentTime >= line.getAttribute('data-time')) {
          line.classList.add('highlight');
        }
      });
    });
    // Slider ile şarkı konumunu değiştir
    seekBar.addEventListener('input', () => {
      audio.currentTime = seekBar.value;
    });
    // Şarkı bittiğinde otomatik sonraki
    audio.addEventListener('ended', () => {
      nextBtn.click();
    });

    // Yardımcı: saniyeyi MM:SS formatına çevirir
    function formatTime(sec) {
      const minutes = Math.floor(sec / 60);
      const seconds = Math.floor(sec % 60).toString().padStart(2, '0');
      return ${minutes}:${seconds};
    }

    // Başlangıçta ilk şarkıyı yükle
    loadSong(currentSong);
  </script>
</body>
</html>
